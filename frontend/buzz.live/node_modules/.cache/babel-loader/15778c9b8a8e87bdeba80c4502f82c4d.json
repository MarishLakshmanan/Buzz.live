{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sakth\\\\Documents\\\\Buzz.live\\\\frontend\\\\buzz.live\\\\src\\\\pages\\\\ChatRoom.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { checkAuth } from \"../functions/Authorization\";\nimport { useEffect } from \"react\";\nimport { initSocketConnection, sendMessageToOthers } from \"../functions/roomConnection\";\nimport YoutubePlayer from \"../components/YoutubePlayer\";\nimport { useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatRoom() {\n  _s();\n\n  const navigate = useNavigate();\n  const roomID = useParams().params;\n  const [clientUrl, setClientUrl] = useState(\"\");\n  const [clientState, setClinetState] = useState(true);\n  const clientPlayerRef = useRef();\n  useEffect(() => {\n    checkAuth(navigate);\n    initSocketConnection(roomID, setClientUrl, setClinetState, clientPlayerRef, createMessage); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function sendMessage(e) {\n    e.preventDefault();\n    const msg = document.getElementById(\"chat-message-i\").value;\n    document.getElementById(\"chat-message-i\").value = \"\";\n    createMessage(msg);\n    sendMessageToOthers(msg);\n  }\n\n  function createMessage(msg) {\n    const container = document.getElementById(\"chat-message-container\");\n    const p = document.createElement(\"p\");\n    p.innerText = sessionStorage(\"uname\") + \": \" + msg;\n    container.appendChild(p);\n  }\n\n  const containerStyle = {\n    height: \"200px\",\n    overflow: \"scroll\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"r-video-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(YoutubePlayer, {\n      clientUrl: clientUrl,\n      setClientUrl: setClientUrl,\n      clientState: clientState,\n      setClinetState: setClinetState,\n      clientPlayerRef: clientPlayerRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: containerStyle,\n      id: \"chat-message-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"chatMessage\",\n        id: \"chat-message-i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ChatRoom, \"1EIqCqZOOABEdw01fUzkn/+Pe/Y=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = ChatRoom;\nexport default ChatRoom;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"sources":["C:/Users/sakth/Documents/Buzz.live/frontend/buzz.live/src/pages/ChatRoom.js"],"names":["useNavigate","useParams","checkAuth","useEffect","initSocketConnection","sendMessageToOthers","YoutubePlayer","useState","useRef","ChatRoom","navigate","roomID","params","clientUrl","setClientUrl","clientState","setClinetState","clientPlayerRef","createMessage","sendMessage","e","preventDefault","msg","document","getElementById","value","container","p","createElement","innerText","sessionStorage","appendChild","containerStyle","height","overflow"],"mappings":";;;AACA,SAASA,WAAT,EAAuBC,SAAvB,QAAwC,kBAAxC;AACA,SAASC,SAAT,QAA0B,4BAA1B;AACA,SAAQC,SAAR,QAAwB,OAAxB;AACA,SAAQC,oBAAR,EAA6BC,mBAA7B,QAAuD,6BAAvD;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAAQC,QAAR,EAAiBC,MAAjB,QAA8B,OAA9B;;;AAIA,SAASC,QAAT,GAAmB;AAAA;;AAIf,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,MAAM,GAAGV,SAAS,GAAGW,MAA3B;AAGA,QAAK,CAACC,SAAD,EAAWC,YAAX,IAA2BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAK,CAACQ,WAAD,EAAaC,cAAb,IAA+BT,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAMU,eAAe,GAAIT,MAAM,EAA/B;AAEAL,EAAAA,SAAS,CAAC,MAAI;AACVD,IAAAA,SAAS,CAACQ,QAAD,CAAT;AACAN,IAAAA,oBAAoB,CAACO,MAAD,EAAQG,YAAR,EAAqBE,cAArB,EAAoCC,eAApC,EAAoDC,aAApD,CAApB,CAFU,CAGd;AACC,GAJQ,EAIP,EAJO,CAAT;;AAMA,WAASC,WAAT,CAAqBC,CAArB,EAAuB;AACnBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,GAAG,GAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,KAAtD;AACAF,IAAAA,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,KAA1C,GAAkD,EAAlD;AACAP,IAAAA,aAAa,CAACI,GAAD,CAAb;AACAjB,IAAAA,mBAAmB,CAACiB,GAAD,CAAnB;AACH;;AAED,WAASJ,aAAT,CAAuBI,GAAvB,EAA2B;AACvB,UAAMI,SAAS,GAAGH,QAAQ,CAACC,cAAT,CAAwB,wBAAxB,CAAlB;AACA,UAAMG,CAAC,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,GAAvB,CAAV;AACAD,IAAAA,CAAC,CAACE,SAAF,GAAcC,cAAc,CAAC,OAAD,CAAd,GAAyB,IAAzB,GAA+BR,GAA7C;AACAI,IAAAA,SAAS,CAACK,WAAV,CAAsBJ,CAAtB;AACH;;AAED,QAAMK,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAC,OADY;AAEnBC,IAAAA,QAAQ,EAAC;AAFU,GAAvB;AAOA,sBACI;AAAA,4BACI;AAAK,MAAA,EAAE,EAAG;AAAV;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,aAAD;AAAe,MAAA,SAAS,EAAErB,SAA1B;AAAqC,MAAA,YAAY,EAAEC,YAAnD;AAAiE,MAAA,WAAW,EAAEC,WAA9E;AAA2F,MAAA,cAAc,EAAEC,cAA3G;AAA2H,MAAA,eAAe,EAAEC;AAA5I;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAK,MAAA,KAAK,EAAEe,cAAZ;AAA4B,MAAA,EAAE,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAA,8BACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,aAAxB;AAAsC,QAAA,EAAE,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,OAAO,EAAEb,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH;;GAnDQV,Q;UAIYT,W,EACFC,S;;;KALVQ,Q;AAqDT,eAAeA,QAAf","sourcesContent":["\r\nimport { useNavigate , useParams } from \"react-router-dom\";\r\nimport { checkAuth } from \"../functions/Authorization\";\r\nimport {useEffect} from \"react\"\r\nimport {initSocketConnection,sendMessageToOthers} from \"../functions/roomConnection\"\r\nimport YoutubePlayer from \"../components/YoutubePlayer\";\r\nimport {useState,useRef} from \"react\"\r\n\r\n\r\n\r\nfunction ChatRoom(){\r\n\r\n    \r\n\r\n    const navigate = useNavigate();\r\n    const roomID = useParams().params;\r\n\r\n    \r\n    const[clientUrl,setClientUrl] = useState(\"\");\r\n    const[clientState,setClinetState] = useState(true);\r\n    const clientPlayerRef  = useRef();\r\n\r\n    useEffect(()=>{\r\n        checkAuth(navigate);\r\n        initSocketConnection(roomID,setClientUrl,setClinetState,clientPlayerRef,createMessage);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[]);\r\n\r\n    function sendMessage(e){\r\n        e.preventDefault();\r\n        const msg = document.getElementById(\"chat-message-i\").value;\r\n        document.getElementById(\"chat-message-i\").value = \"\";\r\n        createMessage(msg)\r\n        sendMessageToOthers(msg);\r\n    }\r\n\r\n    function createMessage(msg){\r\n        const container = document.getElementById(\"chat-message-container\");\r\n        const p = document.createElement(\"p\");\r\n        p.innerText = sessionStorage(\"uname\") +\": \"+ msg;\r\n        container.appendChild(p);\r\n    }\r\n\r\n    const containerStyle = {\r\n        height:\"200px\",\r\n        overflow:\"scroll\"\r\n    }\r\n\r\n\r\n    \r\n    return(\r\n        <div>\r\n            <div id = \"r-video-container\" ></div>\r\n            <YoutubePlayer clientUrl={clientUrl} setClientUrl={setClientUrl} clientState={clientState} setClinetState={setClinetState} clientPlayerRef={clientPlayerRef}/>\r\n            <div style={containerStyle} id=\"chat-message-container\" ></div>\r\n            <form>\r\n                <input type=\"text\" name=\"chatMessage\" id=\"chat-message-i\"/>\r\n                <button onClick={sendMessage}>Send</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom;"]},"metadata":{},"sourceType":"module"}