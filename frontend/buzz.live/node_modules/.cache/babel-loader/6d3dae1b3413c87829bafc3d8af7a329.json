{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sakth\\\\Documents\\\\BackUp\\\\Buzz.live\\\\frontend\\\\buzz.live\\\\src\\\\pages\\\\ChatRoom.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { checkAuth } from \"../functions/Authorization\";\nimport { initSocketConnection, sendBoard, handelBackPress } from \"../functions/roomConnection\";\nimport YoutubeSearch from \"../components/YoutubeSearch\";\nimport { useState, useRef, useEffect } from \"react\";\nimport ChatBox from \"../components/ChatBox\";\nimport \"../styles/chatRoom.css\";\nimport chatIcon from \"../resources/chat.png\";\nimport applicationIcon from \"../resources/application.png\";\nimport youtubeIcon from \"../resources/youtube.png\";\nimport boardIcon from \"../resources/white-board.png\";\nimport YoutubePlayer from \"../components/YoutubePlayer\";\nimport videoChatIcon from \"../resources/video-chat.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatRoom() {\n  _s();\n\n  const [you, setYou] = useState(\"videochat\");\n  const navigate = useNavigate();\n  const roomID = useParams().params;\n  const [url, setUrl] = useState(\"\");\n  const [client, setClient] = useState(false);\n  const [clientState, setClientState] = useState(true);\n  const clientRef = useRef();\n  const [boardVisibility, setBoardVisibility] = useState(\"none\");\n  useEffect(() => {\n    checkAuth(navigate);\n    initSocketConnection(roomID, playVideoClient, setClientState, clientRef, createMessage, setBoardVisibility); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function createMessage(msg) {\n    const container = document.getElementById(\"chat-message-container\");\n    const p = document.createElement(\"p\");\n    p.innerText = localStorage.getItem(\"uname\") + \": \" + msg;\n    container.appendChild(p);\n  }\n\n  function openBoard() {\n    toggleBoardVisibility();\n  }\n\n  async function toggleBoardVisibility() {\n    setBoardVisibility(pre => {\n      if (pre === \"none\") {\n        sendBoard(\"inline\");\n        return \"inline\";\n      }\n\n      sendBoard(\"none\");\n      return \"none\";\n    });\n  }\n\n  window.addEventListener(\"popstate\", function (event) {\n    handleBackfunction();\n  });\n\n  function handleBackfunction() {\n    console.log(\"backed\");\n    handelBackPress();\n  }\n\n  const boardStyle = {\n    display: boardVisibility,\n    height: \"400px\"\n  };\n\n  function switchTab(e) {\n    if (e === \"more\") {\n      document.getElementById(\"chat-btn\").classList.remove(\"active\");\n      document.querySelector(\".chat-container\").classList.remove(\"activeTab\");\n      document.getElementById(\"more-btn\").classList.add(\"active\");\n      document.querySelector(\".more-container\").classList.add(\"activeTab\");\n    } else if (e === \"chat\") {\n      document.getElementById(\"chat-btn\").classList.add(\"active\");\n      document.querySelector(\".chat-container\").classList.add(\"activeTab\");\n      document.getElementById(\"more-btn\").classList.remove(\"active\");\n      document.querySelector(\".more-container\").classList.remove(\"activeTab\");\n    }\n\n    document.querySelector(\".youtube-result-container\").classList.remove(\"activeTab\");\n  }\n\n  function showYoutube() {\n    document.querySelector(\".chat-container\").classList.remove(\"activeTab\");\n    document.querySelector(\".more-container\").classList.remove(\"activeTab\");\n    document.querySelector(\".youtube-result-container\").classList.add(\"activeTab\");\n  }\n\n  function playVideo(vURL) {\n    setYou(\"youtube\");\n    console.log(vURL);\n    setUrl(vURL);\n    setClient(false);\n  }\n\n  function playVideoClient(vURL) {\n    setYou(\"youtube\");\n    setUrl(vURL);\n    setClient(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatRoom-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-container\",\n      children: [you === \"youtube\" ? /*#__PURE__*/_jsxDEV(YoutubePlayer, {\n        url: url,\n        client: client,\n        clientState: clientState,\n        clientRef: clientRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 40\n      }, this) : \"\", you === \"videochat\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"r-video-container\",\n        children: \"Hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 41\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tools-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"chat-btn\",\n          className: \"active\",\n          onClick: switchTab.bind(this, \"chat\"),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: chatIcon,\n            alt: \"chatIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 101\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"more-btn\",\n          onClick: switchTab.bind(this, \"more\"),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: applicationIcon,\n            alt: \"appIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 82\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container activeTab\",\n        children: /*#__PURE__*/_jsxDEV(ChatBox, {\n          createMessage: createMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"more-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            width: \"50px\",\n            onClick: () => {\n              setYou(\"videochat\");\n            },\n            src: videoChatIcon,\n            alt: \"youtubeIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            width: \"50px\",\n            onClick: showYoutube,\n            src: youtubeIcon,\n            alt: \"youtubeIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            width: \"50px\",\n            src: boardIcon,\n            alt: \"youtubeIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"youtube-result-container\",\n        children: /*#__PURE__*/_jsxDEV(YoutubeSearch, {\n          cb: playVideo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ChatRoom, \"YpeZahQRQt9JtTFgRJq7WZeyhX0=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = ChatRoom;\nexport default ChatRoom;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"sources":["C:/Users/sakth/Documents/BackUp/Buzz.live/frontend/buzz.live/src/pages/ChatRoom.js"],"names":["useNavigate","useParams","checkAuth","initSocketConnection","sendBoard","handelBackPress","YoutubeSearch","useState","useRef","useEffect","ChatBox","chatIcon","applicationIcon","youtubeIcon","boardIcon","YoutubePlayer","videoChatIcon","ChatRoom","you","setYou","navigate","roomID","params","url","setUrl","client","setClient","clientState","setClientState","clientRef","boardVisibility","setBoardVisibility","playVideoClient","createMessage","msg","container","document","getElementById","p","createElement","innerText","localStorage","getItem","appendChild","openBoard","toggleBoardVisibility","pre","window","addEventListener","event","handleBackfunction","console","log","boardStyle","display","height","switchTab","e","classList","remove","querySelector","add","showYoutube","playVideo","vURL","bind"],"mappings":"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","sourcesContent":["\r\nimport { useNavigate , useParams } from \"react-router-dom\";\r\nimport { checkAuth } from \"../functions/Authorization\";\r\nimport {initSocketConnection,sendBoard,handelBackPress} from \"../functions/roomConnection\"\r\nimport YoutubeSearch from \"../components/YoutubeSearch\";\r\nimport {useState,useRef,useEffect} from \"react\"\r\nimport ChatBox from \"../components/ChatBox\"\r\nimport \"../styles/chatRoom.css\"\r\nimport chatIcon from \"../resources/chat.png\"\r\nimport applicationIcon from \"../resources/application.png\"\r\nimport youtubeIcon from \"../resources/youtube.png\"\r\nimport boardIcon from \"../resources/white-board.png\"\r\nimport YoutubePlayer from \"../components/YoutubePlayer\";\r\nimport videoChatIcon from \"../resources/video-chat.png\"\r\n\r\nfunction ChatRoom(){\r\n\r\n    \r\n    const [you,setYou] = useState(\"videochat\");\r\n    const navigate = useNavigate();\r\n    const roomID = useParams().params;\r\n\r\n    \r\n    const[url,setUrl] = useState(\"\");\r\n    const[client,setClient] = useState(false);\r\n    const [clientState,setClientState] = useState(true);\r\n    const clientRef  = useRef();\r\n    const[boardVisibility,setBoardVisibility] = useState(\"none\");\r\n\r\n    \r\n    useEffect(()=>{\r\n        checkAuth(navigate);\r\n        initSocketConnection(roomID,playVideoClient,setClientState,clientRef,createMessage,setBoardVisibility);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[]);\r\n\r\n    \r\n\r\n    function createMessage(msg){\r\n        const container = document.getElementById(\"chat-message-container\");\r\n        const p = document.createElement(\"p\");\r\n        p.innerText = localStorage.getItem(\"uname\") +\": \"+ msg;\r\n        container.appendChild(p);\r\n    }\r\n\r\n   function openBoard(){\r\n       toggleBoardVisibility();\r\n   }\r\n\r\n   async function toggleBoardVisibility(){\r\n       setBoardVisibility((pre)=>{\r\n           if(pre===\"none\"){\r\n                sendBoard(\"inline\");\r\n                return \"inline\";\r\n           }\r\n           sendBoard(\"none\")\r\n           return \"none\";\r\n       })\r\n   }\r\n\r\n    window.addEventListener(\"popstate\", function(event) {\r\n        handleBackfunction();\r\n    });\r\n   function handleBackfunction(){\r\n            console.log(\"backed\");\r\n            handelBackPress();\r\n   }\r\n\r\n   const boardStyle = {\r\n       display:boardVisibility,\r\n       height:\"400px\"\r\n   }\r\n\r\n\r\n\r\n   function switchTab(e){\r\n       if(e===\"more\"){\r\n           document.getElementById(\"chat-btn\").classList.remove(\"active\");\r\n           document.querySelector(\".chat-container\").classList.remove(\"activeTab\")\r\n           document.getElementById(\"more-btn\").classList.add(\"active\");\r\n           document.querySelector(\".more-container\").classList.add(\"activeTab\")\r\n           \r\n       }else if(e===\"chat\"){\r\n            document.getElementById(\"chat-btn\").classList.add(\"active\");\r\n            document.querySelector(\".chat-container\").classList.add(\"activeTab\")\r\n            document.getElementById(\"more-btn\").classList.remove(\"active\");\r\n            document.querySelector(\".more-container\").classList.remove(\"activeTab\")\r\n       }\r\n       document.querySelector(\".youtube-result-container\").classList.remove(\"activeTab\")\r\n   }\r\n\r\n   function showYoutube(){\r\n        document.querySelector(\".chat-container\").classList.remove(\"activeTab\")\r\n        document.querySelector(\".more-container\").classList.remove(\"activeTab\")\r\n        document.querySelector(\".youtube-result-container\").classList.add(\"activeTab\")\r\n   }\r\n\r\n   function playVideo(vURL){\r\n       setYou(\"youtube\")\r\n       console.log(vURL);\r\n       setUrl(vURL);\r\n       setClient(false);\r\n       \r\n   }\r\n\r\n   function playVideoClient(vURL){\r\n        setYou(\"youtube\")\r\n        setUrl(vURL);\r\n        setClient(true);\r\n   }\r\n   \r\n    return(\r\n        <div className=\"chatRoom-container\">\r\n\r\n            <div className=\"content-container\">\r\n                    {(you===\"youtube\")?<YoutubePlayer url={url} client={client} clientState={clientState} clientRef={clientRef}/>:\"\" }\r\n                    {(you===\"videochat\"?<div id = \"r-video-container\" >Hello</div>:\"\")}\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"tools-container\">\r\n                <div className=\"tab-container\">\r\n                    <button id=\"chat-btn\" className=\"active\" onClick={switchTab.bind(this,\"chat\")} ><img src={chatIcon} alt=\"chatIcon\"/></button>\r\n                    <button id=\"more-btn\" onClick={switchTab.bind(this,\"more\")} ><img src={applicationIcon} alt=\"appIcon\" /></button>\r\n                </div>\r\n                <div className=\"chat-container activeTab\">\r\n                    <ChatBox createMessage={createMessage}/>\r\n                </div>\r\n                <div className=\"more-container\">\r\n                    <button><img width=\"50px\" onClick={()=>{setYou(\"videochat\")}} src={videoChatIcon} alt=\"youtubeIcon\"/></button>\r\n                    <button><img  width=\"50px\" onClick={showYoutube} src={youtubeIcon} alt=\"youtubeIcon\"/></button>\r\n                    <button><img width=\"50px\" src={boardIcon} alt=\"youtubeIcon\"/></button>\r\n                </div>\r\n                <div className=\"youtube-result-container\">\r\n                    <YoutubeSearch cb={playVideo}/>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <div id = \"r-video-container\" ></div>\r\n            \r\n            \r\n\r\n            <button onClick={openBoard}>Open board</button>\r\n            <iframe id=\"room-whiteboard\" src={`https://witeboard.com/${roomID}`} title=\"W3Schools Free Online Web Tutorials\" style={boardStyle}></iframe> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom;"]},"metadata":{},"sourceType":"module"}