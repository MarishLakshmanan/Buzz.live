{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sakth\\\\Documents\\\\BackUp\\\\Buzz.live\\\\frontend\\\\buzz.live\\\\src\\\\pages\\\\ChatRoom.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { checkAuth } from \"../functions/Authorization\";\nimport { initSocketConnection, sendBoard, handelBackPress } from \"../functions/roomConnection\";\nimport YoutubePlayer from \"../components/YoutubePlayer\";\nimport { useState, useRef, useEffect } from \"react\";\nimport ChatBox from \"../components/ChatBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatRoom() {\n  _s();\n\n  const navigate = useNavigate();\n  const roomID = useParams().params;\n  const [clientUrl, setClientUrl] = useState(\"\");\n  const [clientState, setClinetState] = useState(true);\n  const [boardVisibility, setBoardVisibility] = useState(\"none\");\n  const clientPlayerRef = useRef();\n  useEffect(() => {\n    checkAuth(navigate);\n    initSocketConnection(roomID, setClientUrl, setClinetState, clientPlayerRef, createMessage, setBoardVisibility); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function createMessage(msg) {\n    const container = document.getElementById(\"chat-message-container\");\n    const p = document.createElement(\"p\");\n    p.innerText = localStorage.getItem(\"uname\") + \": \" + msg;\n    container.appendChild(p);\n  }\n\n  function openBoard() {\n    toggleBoardVisibility();\n  }\n\n  async function toggleBoardVisibility() {\n    setBoardVisibility(pre => {\n      if (pre === \"none\") {\n        sendBoard(\"inline\");\n        return \"inline\";\n      }\n\n      sendBoard(\"none\");\n      return \"none\";\n    });\n  }\n\n  function addEvent() {\n    window.addEventListener(\"beforeunload\", function (event) {\n      handleBackfunction();\n    });\n  }\n\n  function handleBackfunction() {\n    if (window.event.clientX < 40 && window.event.clientY < 0) {\n      console.log(\"back\");\n      handelBackPress();\n    } else {\n      alert(\"Browser refresh button is clicked...\");\n    }\n  }\n\n  const boardStyle = {\n    display: boardVisibility,\n    height: \"400px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onLoad: addEvent,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"r-video-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(YoutubePlayer, {\n      clientUrl: clientUrl,\n      setClientUrl: setClientUrl,\n      clientState: clientState,\n      setClinetState: setClinetState,\n      clientPlayerRef: clientPlayerRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ChatBox, {\n      createMessage: createMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"room-whiteBoard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: openBoard,\n      children: \"Open board\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n      id: \"room-whiteboard\",\n      src: `https://witeboard.com/${roomID}`,\n      title: \"W3Schools Free Online Web Tutorials\",\n      style: boardStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ChatRoom, \"rzgz+py93/PiR399gfnNvTSzDVI=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = ChatRoom;\nexport default ChatRoom;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"sources":["C:/Users/sakth/Documents/BackUp/Buzz.live/frontend/buzz.live/src/pages/ChatRoom.js"],"names":["useNavigate","useParams","checkAuth","initSocketConnection","sendBoard","handelBackPress","YoutubePlayer","useState","useRef","useEffect","ChatBox","ChatRoom","navigate","roomID","params","clientUrl","setClientUrl","clientState","setClinetState","boardVisibility","setBoardVisibility","clientPlayerRef","createMessage","msg","container","document","getElementById","p","createElement","innerText","localStorage","getItem","appendChild","openBoard","toggleBoardVisibility","pre","addEvent","window","addEventListener","event","handleBackfunction","clientX","clientY","console","log","alert","boardStyle","display","height"],"mappings":"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","sourcesContent":["\r\nimport { useNavigate , useParams } from \"react-router-dom\";\r\nimport { checkAuth } from \"../functions/Authorization\";\r\nimport {initSocketConnection,sendBoard,handelBackPress} from \"../functions/roomConnection\"\r\nimport YoutubePlayer from \"../components/YoutubePlayer\";\r\nimport {useState,useRef,useEffect} from \"react\"\r\nimport ChatBox from \"../components/ChatBox\"\r\n\r\n\r\n\r\nfunction ChatRoom(){\r\n\r\n    \r\n\r\n    const navigate = useNavigate();\r\n    const roomID = useParams().params;\r\n\r\n    \r\n    const[clientUrl,setClientUrl] = useState(\"\");\r\n    const[clientState,setClinetState] = useState(true);\r\n    const[boardVisibility,setBoardVisibility] = useState(\"none\")\r\n    const clientPlayerRef  = useRef();\r\n\r\n    useEffect(()=>{\r\n        checkAuth(navigate);\r\n        initSocketConnection(roomID,setClientUrl,setClinetState,clientPlayerRef,createMessage,setBoardVisibility);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[]);\r\n\r\n    \r\n\r\n    function createMessage(msg){\r\n        const container = document.getElementById(\"chat-message-container\");\r\n        const p = document.createElement(\"p\");\r\n        p.innerText = localStorage.getItem(\"uname\") +\": \"+ msg;\r\n        container.appendChild(p);\r\n    }\r\n\r\n   function openBoard(){\r\n       toggleBoardVisibility();\r\n   }\r\n\r\n   async function toggleBoardVisibility(){\r\n       setBoardVisibility((pre)=>{\r\n           if(pre===\"none\"){\r\n                sendBoard(\"inline\");\r\n                return \"inline\";\r\n           }\r\n           sendBoard(\"none\")\r\n           return \"none\";\r\n       })\r\n   }\r\n\r\n   function addEvent(){\r\n    window.addEventListener(\"beforeunload\", function(event) {\r\n        handleBackfunction();\r\n    });\r\n   }\r\n   function handleBackfunction(){\r\n        if(window.event.clientX < 40 && window.event.clientY < 0)  \r\n        {  \r\n            console.log(\"back\");\r\n            handelBackPress();\r\n        }  \r\n        else  \r\n        {  \r\n            alert(\"Browser refresh button is clicked...\");  \r\n        }  \r\n   }\r\n\r\n   const boardStyle = {\r\n       display:boardVisibility,\r\n       height:\"400px\"\r\n   }\r\n\r\n\r\n    return(\r\n        <div onLoad={addEvent}>\r\n            <div id = \"r-video-container\" ></div>\r\n            <YoutubePlayer clientUrl={clientUrl} setClientUrl={setClientUrl} clientState={clientState} setClinetState={setClinetState} clientPlayerRef={clientPlayerRef}/>\r\n            <ChatBox createMessage={createMessage}/>\r\n            <div id=\"room-whiteBoard\"></div>\r\n            <button onClick={openBoard}>Open board</button>\r\n            <iframe id=\"room-whiteboard\" src={`https://witeboard.com/${roomID}`} title=\"W3Schools Free Online Web Tutorials\" style={boardStyle}></iframe>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom;"]},"metadata":{},"sourceType":"module"}